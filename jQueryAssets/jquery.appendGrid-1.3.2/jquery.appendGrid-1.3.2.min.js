/*!
* jQuery appendGrid v1.3.2
* https://appendgrid.apphb.com/
*
* Copyright 2014 Albert L.
* Dual licensed under the LGPL (http://www.gnu.org/licenses/lgpl.html)
* and MIT (http://www.opensource.org/licenses/mit-license.php) licenses.
*
* Depends:
* jQuery v1.9.1+
* jquery UI v1.10.2+
*/
(function(e){function a(t,n,r,i){var s=e(t).data("appendGrid");var o=[],u=null,a,f,h=[];var p=t.getElementsByTagName("thead")[0];var d=t.getElementsByTagName("tbody")[0];var v=n,g=false;if(e.isArray(n)){v=n.length;g=true}if(e.isNumeric(i)){for(var b=0;b<s._rowOrder.length;b++){if(s._rowOrder[b]==i){r=b;if(b!=0)u=b-1;break}}}else if(e.isNumeric(r)){if(r>=s._rowOrder.length){r=null}else{u=r-1}}else if(s._rowOrder.length!=0){r=null;u=s._rowOrder.length-1}if(s._rowOrder.length==0){e("tr.empty",t).remove()}for(var b=0;b<v;b++){s._uniqueIndex++;a=s._uniqueIndex;h.length=0;if(e.isNumeric(r)){s._rowOrder.splice(r,0,a);tbRow=d.insertRow(r);o.push(r)}else{s._rowOrder.push(a);tbRow=d.insertRow(-1);o.push(s._rowOrder.length-1)}tbRow.id=s.idPrefix+"_Row_"+a;e(tbRow).data("appendGrid",a);if(!s.hideRowNumColumn){tbCell=tbRow.insertCell(-1);e(tbCell).addClass("ui-widget-content first").text(s._rowOrder.length)}for(var w=0;w<s.columns.length;w++){if(s.columns[w].type=="hidden"){h.push(w);continue}tbCell=tbRow.insertCell(-1);tbCell.className="ui-widget-content";if(s.columns[w].cellCss!=null)e(tbCell).css(s.columns[w].cellCss);f=null;if(s.columns[w].type=="custom"){if(typeof s.columns[w].customBuilder=="function"){f=s.columns[w].customBuilder(tbCell,s.idPrefix,s.columns[w].name,a)}}else if(s.columns[w].type=="select"){f=document.createElement("select");f.id=s.idPrefix+"_"+s.columns[w].name+"_"+a;f.name=f.id;if(e.isArray(s.columns[w].ctrlOptions)){if(s.columns[w].ctrlOptions.length>0){if(e.isPlainObject(s.columns[w].ctrlOptions[0])){for(var E=0;E<s.columns[w].ctrlOptions.length;E++){f.options[f.options.length]=new Option(s.columns[w].ctrlOptions[E].label,s.columns[w].ctrlOptions[E].value)}}else{for(var E=0;E<s.columns[w].ctrlOptions.length;E++){f.options[f.options.length]=new Option(s.columns[w].ctrlOptions[E],s.columns[w].ctrlOptions[E])}}}}else if(e.isPlainObject(s.columns[w].ctrlOptions)){for(var E in s.columns[w].ctrlOptions){f.options[f.options.length]=new Option(s.columns[w].ctrlOptions[E],E)}}else if(typeof s.columns[w].ctrlOptions=="string"){var S=s.columns[w].ctrlOptions.split(";");for(var E=0;E<S.length;E++){var T=S[E].indexOf(":");if(-1==T){f.options[f.options.length]=new Option(S[E],S[E])}else{f.options[f.options.length]=new Option(S[E].substring(T+1,S[E].length),S[E].substring(0,T))}}}tbCell.appendChild(f)}else if(s.columns[w].type=="checkbox"){f=document.createElement("input");f.type="checkbox";f.id=s.idPrefix+"_"+s.columns[w].name+"_"+a;f.name=f.id;f.value=1;tbCell.appendChild(f);tbCell.style.textAlign="center"}else if(s.columns[w].type=="textarea"){f=document.createElement("textarea");f.id=s.idPrefix+"_"+s.columns[w].name+"_"+a;f.name=f.id;tbCell.appendChild(f)}else if(-1!=s.columns[w].type.search(/^(color|date|datetime|datetime\-local|email|month|number|range|search|tel|time|url|week)$/)){f=document.createElement("input");try{f.type=s.columns[w].type}catch(N){}f.id=s.idPrefix+"_"+s.columns[w].name+"_"+a;f.name=f.id;tbCell.appendChild(f)}else{f=document.createElement("input");f.type="text";f.id=s.idPrefix+"_"+s.columns[w].name+"_"+a;f.name=f.id;tbCell.appendChild(f);if(s.columns[w].type=="ui-datepicker"){e(f).datepicker(s.columns[w].uiOption)}else if(s.columns[w].type=="ui-spinner"){e(f).spinner(s.columns[w].uiOption)}else if(s.columns[w].type=="ui-autocomplete"){e(f).autocomplete(s.columns[w].uiOption)}}if(s.columns[w].type!="custom"){if(s.columns[w].ctrlAttr!=null)e(f).attr(s.columns[w].ctrlAttr);if(s.columns[w].ctrlProp!=null)e(f).prop(s.columns[w].ctrlProp);if(s.columns[w].ctrlCss!=null)e(f).css(s.columns[w].ctrlCss);if(s.columns[w].ctrlClass!=null)e(f).addClass(s.columns[w].ctrlClass);if(s.columns[w].uiTooltip)e(f).tooltip(s.columns[w].uiTooltip);if(typeof s.columns[w].onClick=="function"){e(f).click({caller:t,callback:s.columns[w].onClick,uniqueIndex:a},function(t){t.data.callback(t,e(t.data.caller).appendGrid("getRowIndex",t.data.uniqueIndex))})}if(typeof s.columns[w].onChange=="function"){e(f).change({caller:t,callback:s.columns[w].onChange,uniqueIndex:a},function(t){t.data.callback(t,e(t.data.caller).appendGrid("getRowIndex",t.data.uniqueIndex))})}}if(g){x(s,w,a,n[b][s.columns[w].name])}else if(!m(s.columns[w].value)){x(s,w,a,s.columns[w].value)}}if(!s._hideLastColumn||s.columns.length>s._visibleCount){tbCell=tbRow.insertCell(-1);tbCell.className="ui-widget-content last";if(s._hideLastColumn)tbCell.style.display="none";if(!s.hideButtons.insert){e(tbCell).append(e("<button/>").addClass("insert",s._buttonClasses.insert).val(a).attr({id:s.idPrefix+"_Insert_"+a,type:"button",title:s._i18n.insert,tabindex:-1}).button({icons:{primary:"ui-icon-arrowreturnthick-1-w"},text:false}).click(function(){e(t).appendGrid("insertRow",1,null,this.value)}))}if(!s.hideButtons.remove){e(tbCell).append(e("<button/>").addClass("remove",s._buttonClasses.remove).val(a).attr({id:s.idPrefix+"_Delete_"+a,type:"button",title:s._i18n.remove,tabindex:-1}).button({icons:{primary:"ui-icon-trash"},text:false}).click(function(){c(t,null,this.value,false)}))}if(!s.hideButtons.moveUp){e(tbCell).append(e("<button/>").addClass("moveUp",s._buttonClasses.moveUp).val(a).attr({id:s.idPrefix+"_MoveUp_"+a,type:"button",title:s._i18n.moveUp,tabindex:-1}).button({icons:{primary:"ui-icon-arrowthick-1-n"},text:false}).click(function(){e(t).appendGrid("moveUpRow",null,this.value)}))}if(!s.hideButtons.moveDown){e(tbCell).append(e("<button/>").addClass("moveDown",s._buttonClasses.moveDown).val(a).attr({id:s.idPrefix+"_MoveDown_"+a,type:"button",title:s._i18n.moveDown,tabindex:-1}).button({icons:{primary:"ui-icon-arrowthick-1-s"},text:false}).click(function(){e(t).appendGrid("moveDownRow",null,this.value)}))}if(s.rowDragging){e("<div/>").addClass("rowDrag ui-state-default ui-corner-all",s._buttonClasses.rowDrag).attr("title",s._i18n.rowDrag).append(e("<div/>").addClass("ui-icon ui-icon-carat-2-n-s")).appendTo(tbCell)}for(var w=0;w<h.length;w++){f=document.createElement("input");f.id=s.idPrefix+"_"+s.columns[h[w]].name+"_"+a;f.name=f.id;f.type="hidden";if(g){f.value=n[b][s.columns[h[w]].name]}else if(!m(s.columns[h[w]].value)){f.value=s.columns[h[w]].value}tbCell.appendChild(f)}if(s.customRowButtons&&s.customRowButtons.length){for(var w=s.customRowButtons.length-1;w>=0;w--){var C=s.customRowButtons[w];if(C&&C.uiButton&&C.click&&C.atTheFront){e(tbCell).prepend(l(t,C,a))}}for(var w=0;w<s.customRowButtons.length;w++){var C=s.customRowButtons[w];if(C&&C.uiButton&&C.click&&!C.atTheFront){e(tbCell).append(l(t,C,a))}}}}}y(t,s);if(e.isNumeric(r)){if(typeof s.afterRowInserted=="function"){s.afterRowInserted(t,u,o)}}else{if(typeof s.afterRowAppended=="function"){s.afterRowAppended(t,u,o)}}return{addedRows:o,parentIndex:u,rowIndex:r}}function f(t,n){var r=e("<button/>").attr({type:"button",tabindex:-1}).button(n.uiButton).click({tbWhole:t},n.click);if(n.btnClass)r.addClass(n.btnClass);if(n.btnCss)r.css(n.btnCss);if(n.btnAttr)r.attr(n.btnAttr);return r}function l(t,n,r){var i=e("<button/>").val(r).attr({type:"button",tabindex:-1}).button(n.uiButton).click({tbWhole:t,uniqueIndex:r},function(t){var r=e(t.data.tbWhole).appendGrid("getRowValue",null,t.data.uniqueIndex);n.click(t,t.data.uniqueIndex,r)});if(n.btnClass)i.addClass(n.btnClass);if(n.btnCss)i.css(n.btnCss);if(n.btnAttr)i.attr(n.btnAttr);return i}function c(t,n,r,i){var s=e(t).data("appendGrid");var o=t.getElementsByTagName("tbody")[0];if(e.isNumeric(r)){for(var u=0;u<s._rowOrder.length;u++){if(s._rowOrder[u]==r){n=u;break}}}if(e.isNumeric(n)){if(i||typeof s.beforeRowRemove!="function"||s.beforeRowRemove(t,n)){s._rowOrder.splice(n,1);o.deleteRow(n);y(t,s);p(t,n);if(typeof s.afterRowRemoved=="function"){s.afterRowRemoved(t,n)}}}else{if(i||typeof s.beforeRowRemove!="function"||s.beforeRowRemove(t,s._rowOrder.length-1)){r=s._rowOrder.pop();o.deleteRow(-1);y(t,s);if(typeof s.afterRowRemoved=="function"){s.afterRowRemoved(t,null)}}}if(s._rowOrder.length==0){var a=e("<td></td>").text(s._i18n.rowEmpty).attr("colspan",s._finalColSpan);e("tbody",t).append(e("<tr></tr>").addClass("empty").append(a))}}function h(t){var n=e(t).data("appendGrid");e("tbody",t).empty();n._rowOrder.length=0;n._uniqueIndex=0;y(t,n);if(n._rowOrder.length==0){var r=e("<td></td>").text(n._i18n.rowEmpty).attr("colspan",n._finalColSpan);e("tbody",t).append(e("<tr></tr>").addClass("empty").append(r))}}function p(t,n){var r=e(t).data("appendGrid");if(!r.hideRowNumColumn){for(var i=n;i<r._rowOrder.length;i++){e("#"+r.idPrefix+"_Row_"+r._rowOrder[i]+" td.first",t).text(i+1)}}}function d(t,n,r){var i,s,o,u,f;var l=e(t).data("appendGrid");if(l){i=t.getElementsByTagName("tbody")[0];e(i).empty();l._rowOrder.length=0;l._uniqueIndex=0;if(n!=null&&n.length){f=a(t,n.length,null,null);for(var c=0;c<f.addedRows.length;c++){for(var h=0;h<l.columns.length;h++){x(l,h,l._rowOrder[c],n[c][l.columns[h].name])}}}l._isDataLoaded=true;if(r)l.initData=null;e(t).data("appendGrid",l);if(typeof l.dataLoaded=="function"){l.dataLoaded(t)}}}function v(e,t){for(var n=0;n<t._rowOrder.length;n++){if(t._rowOrder[n]==e){return n}}return null}function m(e){return typeof e=="undefined"||e==null}function g(t,n){if(!m(t)&&e.isPlainObject(t)&&!m(t[n])){return t[n]}return null}function y(t,n){e(t).data("appendGrid",n);e("#"+n.idPrefix+"_rowOrder",t).val(n._rowOrder.join())}function b(e,t){var n=null;for(var r=0;r<e._rowOrder.length;r++){if(e._rowOrder[r]==t){return r}}return n}function w(e,t,n){var r={},i=null;for(var s=0;s<e.columns.length;s++){i=e.columns[s].name+(m(n)?"":"_"+n);r[i]=E(e,s,t)}return r}function E(e,t,n){var r=null,i=e.columns[t].type,s=e.columns[t].name;if(i=="checkbox"){r=S(i,e.idPrefix,s,n);if(r==null)return null;else return r.checked?1:0}else if(i=="custom"){if(typeof e.columns[t].customGetter=="function")return e.columns[t].customGetter(e.idPrefix,s,n);else return null}else{r=S(i,e.idPrefix,s,n);if(r==null)return null;else return r.value}}function S(e,t,n,r){return document.getElementById(t+"_"+n+"_"+r)}function x(e,t,n,r){var i=e.columns[t].type;var s=e.columns[t].name;if(i=="checkbox"){S(i,e.idPrefix,s,n).checked=r!=null&&r!=0}else if(i=="custom"){if(typeof e.columns[t].customSetter=="function"){e.columns[t].customSetter(e.idPrefix,s,n,r)}}else{S(i,e.idPrefix,s,n).value=r==null?"":r}}function T(t,n,r,i){var s=e(t).data("appendGrid");var o=-1;for(var u=0;u<s._rowOrder.length;u++){if(s._rowOrder[u]==r){if(n){o=i;s._rowOrder.splice(u,1);s._rowOrder.splice(i,0,r)}else{o=u;s._rowOrder.splice(i+1,0,r);s._rowOrder.splice(u,1)}break}}p(t,o);y(t,s)}var t={caption:null,initRows:3,initData:null,columns:null,i18n:null,idPrefix:null,rowDragging:false,hideButtons:null,hideRowNumColumn:false,buttonClasses:null,customRowButtons:null,customFooterButtons:null,dataLoaded:null,afterRowAppended:null,afterRowInserted:null,afterRowSwapped:null,beforeRowRemove:null,afterRowRemoved:null};var n={type:"text",name:null,value:null,display:null,displayCss:null,headerSpan:1,cellCss:null,ctrlAttr:null,ctrlProp:null,ctrlCss:null,ctrlClass:null,ctrlOptions:null,uiOption:null,uiTooltip:null,customBuilder:null,customGetter:null,customSetter:null,onClick:null,onChange:null};var r={noColumnInfo:"Cannot initial grid without column information!",elemNotTable:"Cannot initial grid on element other than TABLE!",notInit:"`appendGrid` does not initialized",getValueMultiGrid:"Cannot get values on multiple grid",notSupportMethod:"Method is not supported by `appendGrid`: "};var i={append:"Append Row",removeLast:"Remove Last Row",insert:"Insert Row Above",remove:"Remove Current Row",moveUp:"Move Up",moveDown:"Move Down",rowDrag:"Sort Row",rowEmpty:"This Grid Is Empty"};var s={append:null,removeLast:null,insert:null,remove:null,moveUp:null,moveDown:null,rowDrag:null};var o={append:false,removeLast:false,insert:false,remove:false,moveUp:false,moveDown:false};var u={init:function(u){var l=this;var h,p,v,g,y,b;if(l.length>0){if(!e.isArray(u.columns)||u.columns.length==0){alert(r.noColumnInfo);return l}h=l[0];if(m(h.tagName)||h.tagName!="TABLE"){alert(r.elemNotTable);return l}var w=e.extend({},t,u);e.extend(w,{_uniqueIndex:0,_rowOrder:[],_isDataLoaded:false,_visibleCount:0,_finalColSpan:0,_hideLastColumn:false});if(e.isPlainObject(u.i18n))w._i18n=e.extend({},i,u.i18n);else w._i18n=e.extend({},i);if(e.isPlainObject(u.buttonClasses))w._buttonClasses=e.extend({},s,u.buttonClasses);else w._buttonClasses=e.extend({},s);if(e.isPlainObject(u.hideButtons))w.hideButtons=e.extend({},o,u.hideButtons);else w.hideButtons=e.extend({},o);if(m(w.idPrefix)){if(m(h.id)||h.id==""){w.idPrefix="ag"+(new Date).getTime()}else{w.idPrefix=h.id}}p=document.createElement("thead");p.className="ui-widget-header";v=document.createElement("tbody");v.className="ui-widget-content";g=document.createElement("tfoot");g.className="ui-widget-header";e(h).empty().addClass("appendGrid ui-widget").append(p,v,g);y=p.insertRow(-1);if(!w.hideRowNumColumn){b=y.insertCell(-1);b.className="ui-widget-header"}var E=0;for(var S=0;S<w.columns.length;S++){var x=e.extend({},n,w.columns[S]);w.columns[S]=x;if(w.columns[S].type!="hidden"){w._visibleCount++;if(E==0){b=y.insertCell(-1);b.className="ui-widget-header";e(b).text(w.columns[S].display);if(w.columns[S].displayCss)e(b).css(w.columns[S].displayCss);if(w.columns[S].headerSpan>1){e(b).attr("colSpan",w.columns[S].headerSpan);E=w.columns[S].headerSpan-1}}else{E--}}}if(w.hideButtons.insert&&w.hideButtons.remove&&w.hideButtons.moveUp&&w.hideButtons.moveDown&&(!e.isArray(w.customRowButtons)||w.customRowButtons.length==0)){w._hideLastColumn=true}w._finalColSpan=w._visibleCount;if(!w.hideRowNumColumn)w._finalColSpan++;if(!w._hideLastColumn)w._finalColSpan++;if(!w._hideLastColumn){b=y.insertCell(-1);b.className="ui-widget-header"}if(w.caption){y=p.insertRow(0);b=y.insertCell(-1);b.className="ui-state-active caption";b.colSpan=w._finalColSpan;e(b).text(w.caption)}y=g.insertRow(-1);b=y.insertCell(-1);b.colSpan=w._finalColSpan;e("<input/>").attr({type:"hidden",id:w.idPrefix+"_rowOrder",name:w.idPrefix+"_rowOrder"}).appendTo(b);if(w.hideButtons.append&&w.hideButtons.removeLast&&(!e.isArray(w.customFooterButtons)||w.customFooterButtons.length==0)){y.style.display="none"}else{if(!w.hideButtons.append){e("<button/>").addClass("append",w._buttonClasses.append).attr({type:"button",title:w._i18n.append}).button({icons:{primary:"ui-icon-plusthick"},text:false}).click(function(){a(h,1,null,null)}).appendTo(b)}if(!w.hideButtons.removeLast){e("<button/>").addClass("removeLast",w._buttonClasses.removeLast).attr({type:"button",title:w._i18n.removeLast}).button({icons:{primary:"ui-icon-closethick"},text:false}).click(function(){c(h,null,this.value,false)}).appendTo(b)}if(w.customFooterButtons&&w.customFooterButtons.length){for(var N=w.customFooterButtons.length-1;N>=0;N--){var C=w.customFooterButtons[N];if(C&&C.uiButton&&C.click&&C.atTheFront){e(b).prepend(f(h,C))}}for(var N=0;N<w.customFooterButtons.length;N++){var C=w.customFooterButtons[N];if(C&&C.uiButton&&C.click&&!C.atTheFront){e(b).append(f(h,C))}}}}if(w.rowDragging){e(v).sortable({axis:"y",containment:h,handle:".rowDrag",helper:function(t,n){var r=n.children();var i=n.clone();i.children().each(function(t){e(this).width(r.eq(t).width())});return i},update:function(t,n){var r=n.item[0].id.substring(n.item[0].id.lastIndexOf("_")+1);var i=n.item[0].rowIndex-e("tr",p).length;T(h,n.originalPosition.top>n.position.top,r,i)}})}e(h).data("appendGrid",w);if(e.isArray(u.initData)){d(h,u.initData,true)}else{e(h).appendGrid("appendRow",w.initRows)}if(w._rowOrder.length==0){var k=e("<td></td>").text(w._i18n.rowEmpty).attr("colspan",w._finalColSpan);e("tbody",h).append(e("<tr></tr>").addClass("empty").append(k))}}return l},isReady:function(){var e=this,t=false;if(e.length>0){var n=e.first().data("appendGrid");if(n){t=true}}return t},isDataLoaded:function(){var e=this,t=null;if(this.length==1){var n=e.data("appendGrid");if(n){return n._isDataLoaded}else{return false}}else{return false}},load:function(e){var t=this;if(t.length>0){if(e!=null&&e.length>0){d(t[0],e,false)}else{h(t[0])}}return t},appendRow:function(e){return this.appendGrid("insertRow",e)},insertRow:function(t,n,i){var s=this;if(s.length>0){var o=s[0],u=null;var f=e(o).data("appendGrid");if(!f){alert(r.notInit)}else if(e.isArray(t)&&t.length>0||e.isNumeric(t)&&t>0){u=a(o,t,n,i);if(e.isNumeric(n)||e.isNumeric(i)){p(o,u.rowIndex);var l=f._rowOrder[u.addedRows[0]];e("#"+f.idPrefix+"_Insert_"+l,o).focus()}}}return s},removeRow:function(t,n){var i=this;if(i.length>0){var s=i[0];var o=e(s).data("appendGrid");if(!o){alert(r.notInit)}else if(o._rowOrder.length>0){c(s,t,n,true)}}return i},emptyGrid:function(){var t=this;if(t.length>0){var n=t[0];var i=e(n).data("appendGrid");if(!i){alert(r.notInit)}else{h(n)}}return t},moveUpRow:function(t,n){var i=this,s=-1;if(i.length>0){var o=i[0],u,a,f,l;var c=e(o).data("appendGrid");if(!c){alert(r.notInit)}else{var h=null;u=o.getElementsByTagName("tbody")[0];if(e.isNumeric(t)&&t>0&&t<c._rowOrder.length){h=t;n=c._rowOrder[t];a=document.getElementById(c.idPrefix+"_Row_"+n,o)}else if(e.isNumeric(n)){h=v(n,c);a=document.getElementById(c.idPrefix+"_Row_"+n,o)}if(h!=null&&h>0){f=document.getElementById(c.idPrefix+"_Row_"+c._rowOrder[h-1],o);u.removeChild(a);u.insertBefore(a,f);c._rowOrder[h]=c._rowOrder[h-1];c._rowOrder[h-1]=n;l=e("td.first",f).html();e("td.first",f).html(e("td.first",a).html());e("td.first",a).html(l);y(o,c);e("td.last button.moveUp",a).removeClass("ui-state-hover").blur();e("td.last button.moveUp",f).focus();if(c.afterRowSwapped){c.afterRowSwapped(o,h,h-1)}}}}return i},moveDownRow:function(t,n){var i=this,s=-1;if(i.length>0){var o=i[0],u,a,f,l;var c=e(o).data("appendGrid");if(!c){alert(r.notInit)}else{var h=null;u=o.getElementsByTagName("tbody")[0];if(e.isNumeric(t)&&t>=0&&t<c._rowOrder.length-1){h=t;n=c._rowOrder[t];a=document.getElementById(c.idPrefix+"_Row_"+n,o)}else if(e.isNumeric(n)){h=v(n,c);a=document.getElementById(c.idPrefix+"_Row_"+n,o)}if(h!=null&&h!=c._rowOrder.length-1){f=document.getElementById(c.idPrefix+"_Row_"+c._rowOrder[h+1],o);u.removeChild(f);u.insertBefore(f,a);c._rowOrder[h]=c._rowOrder[h+1];c._rowOrder[h+1]=n;l=e("td.first",f).html();e("td.first",f).html(e("td.first",a).html());e("td.first",a).html(l);y(o,c);e("td.last button.moveDown",a).removeClass("ui-state-hover").blur();e("td.last button.moveDown",f).focus();if(c.afterRowSwapped){c.afterRowSwapped(o,h,h+1)}}}}return i},getRowCount:function(){var e=this;if(e.length>0){var t=e.data("appendGrid");if(t){return t._rowOrder.length}else{alert(r.notInit)}}else{alert(r.getValueMultiGrid)}return null},getUniqueIndex:function(e){var t=this;if(t.length>0&&e>=0){var n=t.data("appendGrid");if(n){if(e<n._rowOrder.length){return n._rowOrder[e]}}else{alert(r.notInit)}}return null},getRowIndex:function(e){var t=this;if(t.length>0){var n=t.data("appendGrid");if(n){for(var i=0;i<n._rowOrder.length;i++){if(n._rowOrder[i]==e){return i}}return null}else{alert(r.notInit)}}return null},getRowValue:function(t,n,i){var s=this,o=null;if(s.length>0){var u=s.data("appendGrid");if(u){if(e.isNumeric(t)&&t>=0&&t<u._rowOrder.length){n=u._rowOrder[t]}if(!m(n)){o=w(u,n,i)}}else{alert(r.notInit)}}return o},getAllValue:function(t){var n=this,r=null,i;if(n.length>0){var s=e(n).data("appendGrid");if(s){r=t?{}:[];for(var o=0;o<s._rowOrder.length;o++){if(t){i=w(s,s._rowOrder[o],o);e.extend(r,i)}else{i=w(s,s._rowOrder[o]);r.push(i)}}if(t){r["_RowCount"]=s._rowOrder.length}}}return r},getCtrlValue:function(e,t){var n=this;if(n.length>0){settings=n.data("appendGrid");if(settings&&t>=0&&t<settings._rowOrder.length){for(var r=0;r<settings.columns.length;r++){if(settings.columns[r].name===e){return E(settings,r,settings._rowOrder[t])}}}}return null},setCtrlValue:function(t,n,r){var i=this;if(i.length>0){var s=this,o=e(this).data("appendGrid");if(o&&n>=0&&n<o._rowOrder.length){for(var u=0;u<o.columns.length;u++){if(o.columns[u].name==t){x(o,u,o._rowOrder[n],r);break}}}}return i},getCellCtrl:function(e,t){var n=this,i=null;if(n.length==1){settings=n.data("appendGrid");if(!settings){alert(r.notInit)}else{for(var s=0;s<settings.columns.length;s++){if(settings.columns[s].name===e){return S(settings.columns[s].type,settings.idPrefix,e,t);break}}}}return null},getCellCtrlByRowIndex:function(e,t){var n=this,i=null;if(n.length==1){settings=n.data("appendGrid");if(!settings){alert(r.notInit)}else{if(t>=0&&t<settings._rowOrder.length){var s=settings._rowOrder[t];for(var o=0;o<settings.columns.length;o++){if(settings.columns[o].name===e){return S(settings.columns[o].type,settings.idPrefix,e,s)}}}}}return null},setCellCtrlByRowIndex:function(e,t,n){var i=this,s=null;if(i.length==1){settings=i.data("appendGrid");if(!settings){alert(r.notInit)}else{if(t>=0&&t<settings._rowOrder.length){var o=settings._rowOrder[t];for(var u=0;u<settings.columns.length;u++){if(settings.columns[u].name===e){return setCellCtrl(settings.columns[u].type,settings.idPrefix,e,o,n)}}}}}return null},getRowOrder:function(){var e=this,t=null;if(this.length==1){var n=e.data("appendGrid");if(n){t=n._rowOrder.slice()}else{alert(r.notInit)}}else{alert(r.getValueMultiGrid)}return t}};e.fn.appendGrid=function(t){if(u[t]){return u[t].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof t==="object"||!t){return u.init.apply(this,arguments)}else{e.error(r.notSupportMethod+t)}}})(jQuery)